# Basic settings for running in production. Change accordingly before deploying the server.

# Database

# The database vendor.
#db=postgres

# The username of the database user.
#db-username=keycloak

# The password of the database user.
#db-password=password

# The full database JDBC URL. If not provided, a default URL is set based on the selected database vendor.
#db-url=jdbc:postgresql://localhost/keycloak

# Observability

# If the server should expose healthcheck endpoints.
#health-enabled=true

# If the server should expose metrics endpoints.
#metrics-enabled=true

# HTTP

# The file path to a server certificate or certificate chain in PEM format.
#https-certificate-file=${kc.home.dir}/conf/keycloak-cert.pem

# The file path to a private key in PEM format.
#https-certificate-key-file=${kc.home.dir}/conf/keycloak-key.pem

# The proxy address forwarding mode if the server is behind a reverse proxy.
#proxy=reencrypt

# Do not attach route to cookies and rely on the session affinity capabilities from reverse proxy
#spi-sticky-session-encoder-infinispan-should-attach-route=false

# Hostname for the Keycloak server.
#hostname=myhostname
########################################
# Database
########################################
#db=postgres
#db-username=keycloak_user
#db-password=StrongP@ssw0rd
#db-url=jdbc:postgresql://localhost:5432/keycloak_db

########################################
# Observability
########################################
health-enabled=true
metrics-enabled=true

########################################
# HTTP / Proxy Settings
########################################
# Since Nginx will handle TLS, Keycloak should trust proxy headers
#proxy=reencrypt
#proxy-headers=forwarded

# Tell Keycloak to use a custom HTTP relative path
#http-relative-path=/iam-service



# Optional: if Nginx terminates HTTPS and passes HTTP to Keycloak,
# set the frontend URL to https:// to avoid mixed-content issues
#frontend-url=https://localhost/iam-service

########################################
# Sticky Sessions handled by proxy
########################################
spi-sticky-session-encoder-infinispan-should-attach-route=false
